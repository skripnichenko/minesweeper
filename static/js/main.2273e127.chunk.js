(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o,l,a,i=n(0),u=n(1),v=n(5),r=n.n(v),b=(n(11),n(2)),c=n(3);n(12);!function(e){e[e.none=0]="none",e[e.one=1]="one",e[e.two=2]="two",e[e.three=3]="three",e[e.four=4]="four",e[e.five=5]="five",e[e.six=6]="six",e[e.seven=7]="seven",e[e.eight=8]="eight",e[e.bomb=9]="bomb"}(o||(o={})),function(e){e[e.open=0]="open",e[e.visible=1]="visible",e[e.flagged=2]="flagged"}(l||(l={})),function(e){e.smile="\ud83d\ude42",e.oh="\ud83d\ude32",e.won="\ud83d\ude0e",e.lost="\ud83d\ude23"}(a||(a={}));n(13);var s=function(e){var t=e.row,n=e.col,a=e.state,u=e.value,v=e.onCellClick,r=e.onClickContextMenu,b=e.isRed;return Object(i.jsx)("div",{className:"button ".concat(a===l.visible?"visible":""," value-").concat(u," ").concat(b?"red":""),onClick:v(t,n),onContextMenu:r(t,n),children:a===l.visible?u===o.bomb?Object(i.jsx)("span",{role:"img","aria-label":"bomb",children:"\ud83d\udca3"}):u===o.none?null:u:a===l.flagged?Object(i.jsx)("span",{role:"img","aria-label":"bomb",children:"\ud83d\udea9"}):void 0})},f=(n(14),function(e){var t=e.value;return Object(i.jsx)("div",{className:"NumberDisplay",children:t>=0?t.toString().padStart(3,"0"):"-".concat(Math.abs(t).toString().padStart(2,"0"))})}),d=function(e,t,n){var o=t>0&&n>0?e[t-1][n-1]:null,l=t>0?e[t-1][n]:null,a=t>0&&n<8?e[t-1][n+1]:null,i=n<8?e[t][n+1]:null,u=t<8&&n<8?e[t+1][n+1]:null,v=t<8?e[t+1][n]:null,r=t<8&&n>0?e[t+1][n-1]:null;return{topLeftCell:o,topCell:l,topRightCell:a,leftCell:n>0?e[t][n-1]:null,rightCell:i,bottomLeftCell:r,bottomCell:v,bottomRightCell:u}},m=function(){for(var e=[],t=0;t<9;t++){e.push([]);for(var n=0;n<9;n++)e[t].push({value:o.none,state:l.open})}for(var a=0,i=function(){var t=Math.floor(9*Math.random()),n=Math.floor(9*Math.random());e[t][n].value!==o.bomb&&(e=e.map((function(e,l){return e.map((function(e,a){return t===l&&n===a?Object(b.a)(Object(b.a)({},e),{},{value:o.bomb}):e}))}))),a++};a<10;)i();for(var u=0;u<9;u++)for(var v=0;v<9;v++){var r=e[u][v];if(r.value!==o.bomb){var c=0,s=d(e,u,v),f=s.topLeftCell,m=s.topCell,j=s.topRightCell,p=s.leftCell,O=s.rightCell,g=s.bottomLeftCell,C=s.bottomCell,h=s.bottomRightCell;(null===f||void 0===f?void 0:f.value)===o.bomb&&c++,(null===m||void 0===m?void 0:m.value)===o.bomb&&c++,(null===j||void 0===j?void 0:j.value)===o.bomb&&c++,(null===O||void 0===O?void 0:O.value)===o.bomb&&c++,(null===h||void 0===h?void 0:h.value)===o.bomb&&c++,(null===C||void 0===C?void 0:C.value)===o.bomb&&c++,(null===g||void 0===g?void 0:g.value)===o.bomb&&c++,(null===p||void 0===p?void 0:p.value)===o.bomb&&c++,c>0&&(e[u][v]=Object(b.a)(Object(b.a)({},r),{},{value:c}))}}return e},j=function e(t,n,a){var i=t[n][a];if(i.state===l.visible||i.state===l.flagged)return t;var u=t.slice();u[n][a].state=l.visible;var v=d(t,n,a),r=v.topLeftCell,b=v.topCell,c=v.topRightCell,s=v.leftCell,f=v.rightCell,m=v.bottomLeftCell,j=v.bottomCell,p=v.bottomRightCell;return(null===r||void 0===r?void 0:r.state)===l.open&&r.value!==o.bomb&&(r.value===o.none?u=e(u,n-1,a-1):u[n-1][a-1].state=l.visible),(null===b||void 0===b?void 0:b.state)===l.open&&b.value!==o.bomb&&(b.value===o.none?u=e(u,n-1,a):u[n-1][a].state=l.visible),(null===c||void 0===c?void 0:c.state)===l.open&&c.value!==o.bomb&&(c.value===o.none?u=e(u,n-1,a+1):u[n-1][a+1].state=l.visible),(null===s||void 0===s?void 0:s.state)===l.open&&s.value!==o.bomb&&(s.value===o.none?u=e(u,n,a-1):u[n][a-1].state=l.visible),(null===f||void 0===f?void 0:f.state)===l.open&&f.value!==o.bomb&&(f.value===o.none?u=e(u,n,a+1):u[n][a+1].state=l.visible),(null===m||void 0===m?void 0:m.state)===l.open&&m.value!==o.bomb&&(m.value===o.none?u=e(u,n+1,a-1):u[n+1][a-1].state=l.visible),(null===j||void 0===j?void 0:j.state)===l.open&&j.value!==o.bomb&&(j.value===o.none?u=e(u,n+1,a):u[n+1][a].state=l.visible),(null===p||void 0===p?void 0:p.state)===l.open&&p.value!==o.bomb&&(p.value===o.none?u=e(u,n+1,a+1):u[n+1][a+1].state=l.visible),u};var p=function(){var e=Object(u.useState)(m()),t=Object(c.a)(e,2),n=t[0],v=t[1],r=Object(u.useState)(a.smile),d=Object(c.a)(r,2),p=d[0],O=d[1],g=Object(u.useState)(0),C=Object(c.a)(g,2),h=C[0],w=C[1],x=Object(u.useState)(!1),L=Object(c.a)(x,2),S=L[0],k=L[1],E=Object(u.useState)(10),M=Object(c.a)(E,2),R=M[0],N=M[1],F=Object(u.useState)(!1),I=Object(c.a)(F,2),y=I[0],D=I[1],B=Object(u.useState)(!1),J=Object(c.a)(B,2),P=J[0],T=J[1];Object(u.useEffect)((function(){if(!y&&!P){var e=function(){O(a.oh)},t=function(){O(a.smile)};return window.addEventListener("mousedown",e),window.addEventListener("mouseup",t),function(){window.removeEventListener("mousedown",e),window.removeEventListener("mouseup",t)}}})),Object(u.useEffect)((function(){if(S&&h<999){var e=setInterval((function(){w((function(e){return e+1}))}),1e3);return function(){clearInterval(e)}}}),[S,h]),Object(u.useEffect)((function(){y&&(k(!1),O(a.lost))}),[y]),Object(u.useEffect)((function(){P&&(k(!1),O(a.won))}),[P]);var A=function(e,t){return function(){if(!y){var a=n.slice(),i=n[e][t];if(![l.flagged,l.visible].includes(i.state)){if(i.value===o.bomb)return D(!0),a[e][t].red=!0,a=q(),v(a),void w(h);i.value===o.none?j(a,e,t):a[e][t].state=l.visible;for(var u=!1,r=0;r<9;r++)for(var c=0;c<9;c++){if(a[r][c].state===l.open){u=!0;break}}if(!S){for(var s=a[e][t].value===o.bomb;s;)if((a=m())[e][t].value!==o.bomb){s=!1;break}k(!0)}u||(a=a.map((function(e){return e.map((function(e){return e.value===o.bomb?Object(b.a)(Object(b.a)({},e),{},{state:l.flagged}):e}))})),T(!0))}}}},_=function(e,t){return function(o){if(o.preventDefault(),S){var a=n.slice(),i=n[e][t];i.state!==l.visible&&(i.state===l.open?(a[e][t].state=l.flagged,v(a),N((function(e){return e-1}))):i.state===l.flagged&&(a[e][t].state=l.open,v(a),N((function(e){return e+1}))))}}},q=function(){return n.slice().map((function(e){return e.map((function(e){return e.value===o.bomb?Object(b.a)(Object(b.a)({},e),{},{state:l.visible}):e}))}))};return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsxs)("div",{className:"header",children:[Object(i.jsx)(f,{value:R}),Object(i.jsx)("div",{className:"face",onClick:function(){O(a.smile),D(!1),T(!1),k(!1),w(0),v(m())},children:Object(i.jsx)("span",{role:"img","aria-label":"face",children:p})}),Object(i.jsx)(f,{value:h})]}),Object(i.jsx)("div",{className:"body",children:n.map((function(e,t){return e.map((function(e,n){return Object(i.jsx)(s,{value:e.value,state:e.state,row:t,col:n,onCellClick:A,onClickContextMenu:_,isRed:e.red},"".concat(t,"_").concat(n))}))}))})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,o=t.getFID,l=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),o(e),l(e),a(e),i(e)}))};r.a.render(Object(i.jsx)(p,{}),document.getElementById("root")),O()}],[[15,1,2]]]);
//# sourceMappingURL=main.2273e127.chunk.js.map